# Linux "知识点"

## 命令

### 有什么常用的 Linux 命令
* cd：进入目录
* ls：列出目录文件
* mkdir：创建文件夹
* vim：编辑文件
* top：查看系统负载
* ps：查看进程
* rm：删除文件、目录
* history：查看命令历史记录
* cp：复制文件
* mv：修改文件名、移动文件
* cat：获取文件内容
* tail：查看日志
* find：搜索文件
* pwd：查看当前路径
* clear：清屏
* reboot：重启



### 绝对路径怎么表示？
/ 开头，/usr/local



### 当前目录怎么表示？
./



### 上层目录怎么表示？
../



### 主目录怎么表示？
~/



### 如何切换目录？
cd 目录



### 如何同时创建多个目录？
mkdir a b c



### 如何创建一个多层级目录？
mkdir -p a/b/c



### 如何同时移动多个文件？
mv file1 file2 -t /usr/local



### 如何复制一个文件夹？
cp -r dir1 /usr/local



### 可以将命令历史记录写入文件吗？怎么写入？
可以，history -w，默认写入 ~/.bash_history 文件中



### 如何解压一个 zip 文件？
unzip 文件名



### 如何解压一个 tar 文件？
tar -xvf 文件名



### 如何解压一个 tar.gz 文件？
tar -zxvf 文件名



### 如何将多个文件压缩到一个 tar.gz 文件？
tar -zcvf 压缩.tar.gz file1 file2 file3



### 有一个 log 文件，如何实时查看它的内容？
tail -f 日志名



### 如何查看日志的最后 10 条内容
tail -n 10 日志名



### 如何列出隐藏文件？
ls -a



### 如何列出文件列表，并根据文件大小排序
ls -S



### 如何列出文件，并根据文件修改时间排序
ls -t



### 如何查看所有进程
ps -A



### 如何查看所有 java 进程
ps -ef | grep java



### 如何查看进程所占用的 CPU、内存
ps -aux



### 如何强制删除文件
rm -rf 文件名



### 如何批量创建100个文件
touch test{001..100}.txt



### 创建文件有几种方式？你能大概说下你知道的吗？
* `vim 直接编辑一个新文件`
* `touch file 创建一个空白文件`
* `> 将内容覆盖原文件`
* `>> 将内容追加到文件结尾`
* `cat 结合 eof`
* `cat 结合 exit`



### 怎么通过名字寻找文件
find / -name 文件名



### 怎么通过文件的类型寻找文件
find / -type f



### 如何通过文件的大小寻找文件
find / -size 100



### 什么命令可以找到执行文件的位置？
which



### which 命令搜索的是哪个目录？
/usr/bin



### whereis 也是找文件、目录，那和 find 的区别是？
* whereis 查找的速度会比 find 快
* 原因是 whereis 会从数据库中查找数据



### 如何给一个文件设置最高权限
chmod 777 test.txt



### 如何杀掉一个进程
* 先查看进程的 pid，再根据 pid 杀掉进程
* ps -ef | grep 进程名，获取到 pid
* kill -9 进程pid



### 如何查看某个端口是否被占用？
* netstat -anp | grep 端口号
* 如果打印的记录是其中一个服务，且状态是 LISTEN，那么就被占用了



### 查询日志中error的个数
```sh
cat filename | grep -o error | wc -l
```







## 知识点



### 有哪些常见的配置文件
* /etc/profile：系统环境变量配置文件
* /etc/sysconfig/iptables：防火墙配置文件
* /etc/hosts/：主机文件
* /etc/rc.local：开机就执行命令的文件
* /root/.bashrc_profile：当前用户环境变量配置文件



### Linux 的目录结构是怎样的？
这个问题，一般不会问。更多是实际使用时，需要知道。
Linux 文件系统的结构层次鲜明，就像一棵倒立的树，最顶层是其根目录：
 
* `/bin`： 存放二进制可执行文件(ls,cat,mkdir等)，常用命令一般都在这里；
* `/etc`： 存放系统管理和配置文件；
* `/home`： 存放所有用户文件的根目录，是用户主目录的基点，比如用户user的主目录就是/home/user，可以用~user表示；
* `/usr`： 用于存放系统应用程序；
* `/opt`： 额外安装的可选应用程序包所放置的位置。一般情况下，我们可以把tomcat等都安装到这里；
* `/proc`： 虚拟文件系统目录，是系统内存的映射。可直接访问这个目录来获取系统信息；
* `/root`： 超级用户（系统管理员）的主目录（特权阶级o）；
* `/sbin`： 存放二进制可执行文件，只有root才能访问。这里存放的是系统管理员使用的系统级别的管理命令和程序。如ifconfig等；
* `/dev`： 用于存放设备文件；
* `/mnt`： 系统管理员安装临时文件系统的安装点，系统提供这个目录是让用户临时挂载其他的文件系统；
* `/boot`： 存放用于系统引导时使用的各种文件；
* `/lib`： 存放着和系统运行相关的库文件 ；
* `/tmp`： 用于存放各种临时文件，是公用的临时文件存储点；
* `/var`： 用于存放运行时需要改变数据的文件，也是某些大文件的溢出区，比方说各种服务的日志文件（系统启动日志等。）等；
* `/lost+found`： 这个目录平时是空的，系统非正常关机而留下“无家可归”的文件（windows下叫什么.chk）就在这里。



### 如何在一个 Linux 中部署两套不同版本的 JAVA 环境，然后可以随时切换使用？
系统装了 Java 1.8，环境变量也配置了 Java 1.8，登录系统任意地方都能使用 Java 1.8 应用中需要用 Java 1.7，需要怎么分开使用不同的 Java 环境



### 如何查看进程中有哪些环境变量？
* 获取进程 PID 后
* 进入 /proc/进程号/ 目录下，查看 environ 文件即可
* cat /proc/4071/environ |tr '\0' '\n'








## 概念篇



### Linux 使用的进程间通信方式？
* 管道(pipe)、流管道(s_pipe)、有名管道(FIFO)。
* 信号(signal) 。
* 消息队列。
* 共享内存。
* 信号量。
* 套接字(socket) 。



### 什么是交换空间？
交换空间是Linux使用的一定空间，用于临时保存一些并发运行的程序。当RAM没有足够的内存来容纳正在执行的所有程序时，就会发生这种情况。



### 什么是硬链接和软链接？

#### 1）硬链接
由于 Linux 下的文件是通过索引节点(inode)来识别文件，硬链接可以认为是一个指针，指向文件索引节点的指针，系统并不为它重新分配 inode 。每添加一个一个硬链接，文件的链接数就加 1 。
不足：1）不可以在不同文件系统的文件间建立链接；2）只有超级用户才可以为目录创建硬链接。

#### 2）软链接
软链接克服了硬链接的不足，没有任何文件系统的限制，任何用户可以创建指向目录的符号链接。因而现在更为广泛使用，它具有更大的灵活性，甚至可以跨越不同机器、不同网络对文件进行链接。
不足：因为链接文件包含有原文件的路径信息，所以当原文件从一个目录下移到其他目录中，再访问链接文件，系统就找不到了，而硬链接就没有这个缺陷，你想怎么移就怎么移；还有它要系统分配额外的空间用于建立新的索引节点和保存原文件的路径。

#### 实际场景下，基本是使用软链接
总结区别如下：
* 硬链接不可以跨分区，软件链可以跨分区。
* 硬链接指向一个 inode 节点，而软链接则是创建一个新的 inode 节点。
* 删除硬链接文件，不会删除原文件，删除软链接文件，会把原文件删除。



### 什么叫 CC 攻击？什么叫 DDOS 攻击？
* CC 攻击，主要是用来攻击页面的，模拟多个用户不停的对你的页面进行访问，从而使你的系统资源消耗殆尽。
* DDOS 攻击，中文名叫分布式拒绝服务攻击，指借助服务器技术将多个计算机联合起来作为攻击平台，来对一个或多个目标发动 DDOS 攻击。

攻击，即是通过大量合法的请求占用大量网络资源，以达到瘫痪网络的目的。

#### 怎么预防 CC 攻击和 DDOS 攻击？
防 CC、DDOS 攻击，这些只能是用硬件防火墙做流量清洗，将攻击流量引入黑洞。

流量清洗这一块，主要是买 ISP 服务商的防攻击的服务就可以，机房一般有空余流量，我们一般是买服务，毕竟攻击不会是持续长时间。













### ref
* [Linux "知识点"](https://www.yuque.com/poloyy/interview/dvfi9f)
* []()
* []()
* []()
* []()
* []()
* []()

